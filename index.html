<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</title>
    <link rel="stylesheet" href="css_styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ –£—á–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h1>
            <div class="auth-section">
                <div class="user-info" id="userInfo">
                    <button class="auth-btn" onclick="signInWithGoogle()">
                        üîê –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                    </button>
                </div>
                <div class="sync-indicator sync-offline" id="syncIndicator">
                    ‚ö†Ô∏è –û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
                </div>
            </div>
            <div class="month-selector">
                <select id="monthSelect">
                    <option value="0">–Ø–Ω–≤–∞—Ä—å 2025</option>
                    <option value="1">–§–µ–≤—Ä–∞–ª—å 2025</option>
                    <option value="2">–ú–∞—Ä—Ç 2025</option>
                    <option value="3">–ê–ø—Ä–µ–ª—å 2025</option>
                    <option value="4">–ú–∞–π 2025</option>
                    <option value="5">–ò—é–Ω—å 2025</option>
                    <option value="6">–ò—é–ª—å 2025</option>
                    <option value="7">–ê–≤–≥—É—Å—Ç 2025</option>
                    <option value="8">–°–µ–Ω—Ç—è–±—Ä—å 2025</option>
                    <option value="9">–û–∫—Ç—è–±—Ä—å 2025</option>
                    <option value="10">–ù–æ—è–±—Ä—å 2025</option>
                    <option value="11">–î–µ–∫–∞–±—Ä—å 2025</option>
                </select>
            </div>
        </div>
        
        <div class="content">
            <div id="loadingSection" class="loading">
                <div class="loading-spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...</p>
            </div>
            
            <div id="appContent" style="display: none;">
                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
                <div class="controls">
                    <div class="input-group">
                        <label>–î–∞—Ç–∞</label>
                        <input type="date" id="dateInput">
                    </div>
                    
                    <div class="input-group">
                        <label>–¢–∏–ø</label>
                        <select id="typeSelect">
                            <option value="income">–î–æ—Ö–æ–¥</option>
                            <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select id="categorySelect">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>–°—É–º–º–∞</label>
                        <input type="number" id="amountInput" placeholder="0.00" step="0.01">
                    </div>
                    
                    <div class="input-group">
                        <label>–í–∞–ª—é—Ç–∞</label>
                        <select id="currencySelect">
                            <option value="MDL">MDL</option>
                            <option value="UAH">UAH</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="USDT">USDT</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <input type="text" id="descriptionInput" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ...">
                    </div>
                    
                    <div class="input-group">
                        <label>&nbsp;</label>
                        <button class="btn btn-add" onclick="addTransaction()">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    
                    <div class="input-group">
                        <label>&nbsp;</label>
                        <button class="btn btn-export" onclick="exportToExcel()">–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel</button>
                    </div>
                </div>
                
                <!-- –°–µ–∫—Ü–∏—è –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç -->
                <div class="exchange-section">
                    <h3>üí± –û–±–º–µ–Ω –≤–∞–ª—é—Ç</h3>
                    <div class="exchange-form">
                        <div class="input-group">
                            <label>–î–∞—Ç–∞ –æ–±–º–µ–Ω–∞</label>
                            <input type="date" id="exchangeDateInput">
                        </div>
                        
                        <div class="input-group">
                            <label>–û—Ç–¥–∞–µ—Ç–µ</label>
                            <input type="number" id="fromAmountInput" placeholder="0.00" step="0.01">
                        </div>
                        
                        <div class="input-group">
                            <label>–í–∞–ª—é—Ç–∞</label>
                            <select id="fromCurrencySelect">
                                <option value="MDL">MDL</option>
                                <option value="UAH">UAH</option>
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                        
                        <div class="exchange-arrow">‚Üí</div>
                        
                        <div class="input-group">
                            <label>–ü–æ–ª—É—á–∞–µ—Ç–µ</label>
                            <input type="number" id="toAmountInput" placeholder="0.00" step="0.01">
                        </div>
                        
                        <div class="input-group">
                            <label>–í–∞–ª—é—Ç–∞</label>
                            <select id="toCurrencySelect">
                                <option value="MDL">MDL</option>
                                <option value="UAH">UAH</option>
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label>–ö–æ–º–∏—Å—Å–∏—è</label>
                            <input type="number" id="feeInput" placeholder="0.00" step="0.01" value="0">
                        </div>
                        
                        <div class="input-group">
                            <label>–í–∞–ª—é—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏</label>
                            <select id="feeCurrencySelect">
                                <option value="MDL">MDL</option>
                                <option value="UAH">UAH</option>
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                        
                        <div class="rate-display" id="rateDisplay">
                            –ö—É—Ä—Å: -
                        </div>
                        
                        <div class="input-group">
                            <label>&nbsp;</label>
                            <button class="btn btn-add" onclick="addExchange()">–û–±–º–µ–Ω—è—Ç—å</button>
                        </div>
                    </div>
                </div>
                
                <!-- –°–≤–æ–¥–∫–∞ –ø–æ –≤–∞–ª—é—Ç–∞–º -->
                <div class="summary" id="summaryContainer"></div>
                
                <!-- –¢–∞–±–ª–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–¢–∏–ø</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–í–∞–ª—é—Ç–∞</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody id="transactionTable">
                        </tbody>
                    </table>
                </div>
                
                <!-- –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                <div id="categoryBreakdown" class="categories"></div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="js_firebase.js"></script>
    <script src="js_app.js"></script>
    <script src="js_ui.js"></script>
</body>
</html>
